(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[672],{90983:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/forms/[formId]",function(){return c(29713)}])},29713:function(d,b,a){"use strict";a.r(b),a.d(b,{default:function(){return z}});var e=a(47568),f=a(41799),g=a(69396),c=a(34051),h=a.n(c),i=a(85893),j=a(67294),k=a(4562),l=a(68527),m=a(15193),n=a(79762),o=a(4612),p=a(11391),q=a(64750),r=function(){return(0,i.jsx)(l.xv,{children:"Form not found"})},s=a(11163),t=a(68288),u=a(53425),v=a(7983),w=function(){return(0,i.jsx)(v.Od,{maxW:640,height:"70xh"})},x=a(89925),y=a(45682),z=function(){var a,E=(0,s.useRouter)().query,N=(0,s.useRouter)(),d=(0,x.mA)(),O=d.address,v=d.isConnected,P=(0,k.pm)(),z=(0,j.useState)([]),Q=z[0],R=z[1],F=(0,q._v)(t.ao).group,A=null===(a=E.formId)|| void 0===a?void 0:a.toString(),B=(0,q.cI)(A),b=B.form,G=B.formNotFound,c=(0,q._J)(),S=c.submitForm,H=c.submissionComplete,I=c.submittingForm,C=(0,q.nT)(),J=C.generatingProof,T=C.generateProof;if(G)return(0,i.jsx)(r,{});if(!b)return(0,i.jsx)(w,{});var D=b.questions.map(function(a){return(0,g.Z)((0,f.Z)({},a),{required:!0})}),U=!D.some(function(b,d){var c=b.required,a=Q.find(function(b,a){return a===d});return c&&(""===a||!(0,y.Dw)(a))});if(H)return(0,i.jsxs)(l.M5,{height:"70vh",justifyContent:"center",flexDirection:"column",children:[(0,i.jsx)(l.xv,{fontSize:"lg",children:"\u3054\u56DE\u7B54\u3042\u308A\u304C\u3068\u3046\u3054\u3056\u3044\u307E\u3059\u3002 \u56DE\u7B54\u304C\u53CD\u6620\u3055\u308C\u308B\u307E\u3067\u6570\u5206\u304B\u304B\u308A\u307E\u3059 \u3002"}),(0,i.jsx)(m.zx,{mt:5,onClick:function(){N.push("/forms/".concat(A,"/submissions"))},children:"\u56DE\u7B54\u4E00\u89A7\u3092\u898B\u308B"})]});if(!A)return(0,i.jsx)(i.Fragment,{});var K,L,M=(K=(0,e.Z)(h().mark(function a(){var b,c,d,e;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(U){a.next=4;break}P({title:"\u5FC5\u9808\u9805\u76EE\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",status:"warning",duration:9e3,isClosable:!0}),a.next=12;break;case 4:if(!O){a.next=12;break}return a.next=7,T(A,F);case 7:c=(b=a.sent).submissionId,d=b.membershipFullProof,e=b.dataSubmissionFullProof,S({formId:A,submissionId:c.toString(),membershipProof:JSON.stringify(d,null,0),dataSubmissionProof:JSON.stringify(e,null,0),answers:Q,unixTime:Math.floor(Date.now()/1e3)});case 12:case"end":return a.stop()}},a)})),function(){return K.apply(this,arguments)}),V=(L=(0,e.Z)(h().mark(function a(b,c){var d;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:d=Array(D.length).fill("").map(function(d,a){return a===c?b:Q[a]||""}),R(d);case 2:case"end":return a.stop()}},a)})),function(a,b){return L.apply(this,arguments)});return(0,i.jsx)(l.M5,{width:"100%",display:"flex",flexDirection:"column",p:6,children:(0,i.jsxs)(l.W2,{maxW:640,children:[(0,i.jsx)(l.X6,{size:"md",mb:3,children:b.title}),(0,i.jsx)(n.NI,{children:D.map(function(a,c){var b;return(0,i.jsxs)(l.xu,{padding:"24px",borderWidth:1,borderRadius:10,mb:3,bgColor:"white",borderColor:"lightgrey",children:[(0,i.jsxs)(n.lX,{mb:4,children:[a.label,a.required?" *":""]}),"text"===a.type?(0,i.jsx)(o.II,{borderWidth:"0px 0px 1px 0px",borderRadius:0,padding:"0px 0px 8px",variant:"unstyled",onChange:function(a){V(a.target.value,c)},required:a.required,placeholder:"Enter here"}):"select"===a.type?(0,i.jsx)(p.Ph,{placeholder:a.label,size:"lg",variant:"outline",onChange:function(a){V(a.target.value,c)},children:null===(b=a.options)|| void 0===b?void 0:b.map(function(a){return(0,i.jsx)("option",{value:a,children:a},a)})}):(0,i.jsx)(i.Fragment,{})]},c)})}),(0,i.jsxs)(m.hE,{mt:4,children:[(0,i.jsx)(m.zx,{onClick:M,isLoading:J||I,isDisabled:!F||!v,children:"\u9001\u4FE1"}),v?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)(u.Z,{})]})]})})}}},function(a){a.O(0,[322,639,714,792,808,56,225,559,774,888,179],function(){var b;return a(a.s=90983)}),_N_E=a.O()}])